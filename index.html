<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create an to-do list</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<style>

</style>

<body>
    <div class="container mt-5">
        <h4>To-Do List</h4>

        <input type="text" class="task" id="work" autocomplete="off">
        <button class="btn btn-primary">Submit</button>

        <div class="result mt-5"></div>
    </div>



    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function () {
            // var count = 0;


            $(".btn").click(() => {
                $("#work").val(function () {
                    let result = $(this).val();
                    if (result == "") {
                        alert("Please enter the work");
                        return;

                    }
                    else {

                        let newdata = $(`<div><input type="text" value="${result}" class="text-center mt-3" autocomplete="off"><button class="edit"  id="${result}">Edit</button> <button class="delete"  id="${result}">Delect</button> <button class="save">Save</button></div>`);
                        $(".result").append(newdata);
                        // count++;
                        console.log("the count value is", count);


                    }

                });

            });


            $(document).on("click", ".edit", function () {

                let editvalue = $(this).attr('id');
                console.log(typeof editvalue);

                console.log("Edit data value:", editvalue);
                let childvalue = $(this).closest('div').find('input').val();
                console.log("childvalue:", childvalue);
                console.log(typeof childvalue);

                if (childvalue == editvalue) {
                    $(this).closest("div").find("input").val(" ");
                    $(this).hide();
                    $(this).siblings(".save").show();

                }
                else {
                    alert("The childvalue and editvalue not match");
                }

            });

            //   save button work
            $(document).on("click", ".save", function () {
               let savedata= $(this).closest("div").find("input").val();
               console.log("the save data:",savedata);
               

            });


            $(document).on("click", ".delete", function () {

                let newvalue = $(this).attr('id');
                console.log("newdata value:", newvalue);
                $(this).parent().remove();
                count--;
                console.log("after delete the count is:", count);



            });



        });
    </script>
</body>

</html>